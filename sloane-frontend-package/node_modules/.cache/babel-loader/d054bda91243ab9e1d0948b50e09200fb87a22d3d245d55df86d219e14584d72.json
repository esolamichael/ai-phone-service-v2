{"ast":null,"code":"import React,{useState}from'react';import{Box,Typography,TextField,Button,Paper,Container,Grid,Link,InputAdornment,IconButton,Alert,CircularProgress}from'@mui/material';import{Link as RouterLink,useNavigate}from'react-router-dom';import{Formik,Form,Field}from'formik';import*as Yup from'yup';import{Visibility,VisibilityOff}from'@mui/icons-material';import{useAuth}from'../../contexts/AuthContext';import LoadingSpinner from'../../components/common/LoadingSpinner';import{enhancedApiCall}from'../../utils/ErrorHandling';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginSchema=Yup.object().shape({email:Yup.string().email('Invalid email address').required('Email is required'),password:Yup.string().required('Password is required')});const LoginPage=()=>{const[showPassword,setShowPassword]=useState(false);const[error,setError]=useState('');const{login}=useAuth();const navigate=useNavigate();const handleSubmit=async(values,_ref)=>{let{setSubmitting}=_ref;try{setError('');await login(values.email,values.password);navigate('/dashboard');}catch(err){setError(err.message||'Failed to login. Please check your credentials.');}finally{setSubmitting(false);}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{py:8},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4,borderRadius:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:4,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Welcome back\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Sign in to your Sloane account\"})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error}),/*#__PURE__*/_jsx(Formik,{initialValues:{email:'',password:''},validationSchema:LoginSchema,onSubmit:handleSubmit,children:_ref2=>{let{errors,touched,isSubmitting}=_ref2;return/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Field,{name:\"email\",children:_ref3=>{let{field}=_ref3;return/*#__PURE__*/_jsx(TextField,{...field,fullWidth:true,label:\"Email Address\",variant:\"outlined\",error:touched.email&&Boolean(errors.email),helperText:touched.email&&errors.email});}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Field,{name:\"password\",children:_ref4=>{let{field}=_ref4;return/*#__PURE__*/_jsx(TextField,{...field,fullWidth:true,label:\"Password\",type:showPassword?'text':'password',variant:\"outlined\",error:touched.password&&Boolean(errors.password),helperText:touched.password&&errors.password,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setShowPassword(!showPassword),edge:\"end\",children:showPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})})}});}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",size:\"large\",disabled:isSubmitting,sx:{py:1.5},children:isSubmitting?/*#__PURE__*/_jsx(LoadingSpinner,{message:\"Signing in...\"}):'Sign In'})})]})});}}),/*#__PURE__*/_jsx(Box,{sx:{mt:3,textAlign:'center'},children:/*#__PURE__*/_jsx(Link,{component:RouterLink,to:\"/forgot-password\",variant:\"body2\",color:\"primary\",underline:\"hover\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsx(Box,{sx:{mt:4,textAlign:'center'},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{component:RouterLink,to:\"/signup\",variant:\"body2\",color:\"primary\",underline:\"hover\",children:\"Sign up\"})]})})]})})});};export default LoginPage;","map":{"version":3,"names":["React","useState","Box","Typography","TextField","Button","Paper","Container","Grid","Link","InputAdornment","IconButton","Alert","CircularProgress","RouterLink","useNavigate","Formik","Form","Field","Yup","Visibility","VisibilityOff","useAuth","LoadingSpinner","enhancedApiCall","jsx","_jsx","jsxs","_jsxs","LoginSchema","object","shape","email","string","required","password","LoginPage","showPassword","setShowPassword","error","setError","login","navigate","handleSubmit","values","_ref","setSubmitting","err","message","maxWidth","children","sx","py","elevation","p","borderRadius","mb","textAlign","variant","component","gutterBottom","color","severity","initialValues","validationSchema","onSubmit","_ref2","errors","touched","isSubmitting","container","spacing","item","xs","name","_ref3","field","fullWidth","label","Boolean","helperText","_ref4","type","InputProps","endAdornment","position","onClick","edge","size","disabled","mt","to","underline"],"sources":["/Users/Mike/Documents/ai-phone-service-codebase-v2/sloane-frontend-package/src/pages/auth/LoginPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n  Box, \n  Typography, \n  TextField, \n  Button, \n  Paper, \n  Container, \n  Grid, \n  Link, \n  InputAdornment, \n  IconButton,\n  Alert,\n  CircularProgress\n} from '@mui/material';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from 'yup';\nimport { Visibility, VisibilityOff } from '@mui/icons-material';\nimport { useAuth } from '../../contexts/AuthContext';\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\nimport { enhancedApiCall } from '../../utils/ErrorHandling';\n\nconst LoginSchema = Yup.object().shape({\n  email: Yup.string()\n    .email('Invalid email address')\n    .required('Email is required'),\n  password: Yup.string()\n    .required('Password is required')\n});\n\nconst LoginPage = () => {\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState('');\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (values, { setSubmitting }) => {\n    try {\n      setError('');\n      await login(values.email, values.password);\n      navigate('/dashboard');\n    } catch (err) {\n      setError(err.message || 'Failed to login. Please check your credentials.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box sx={{ py: 8 }}>\n        <Paper elevation={3} sx={{ p: 4, borderRadius: 2 }}>\n          <Box sx={{ mb: 4, textAlign: 'center' }}>\n            <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n              Welcome back\n            </Typography>\n            <Typography variant=\"body1\" color=\"text.secondary\">\n              Sign in to your Sloane account\n            </Typography>\n          </Box>\n\n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\n              {error}\n            </Alert>\n          )}\n\n          <Formik\n            initialValues={{ email: '', password: '' }}\n            validationSchema={LoginSchema}\n            onSubmit={handleSubmit}\n          >\n            {({ errors, touched, isSubmitting }) => (\n              <Form>\n                <Grid container spacing={3}>\n                  <Grid item xs={12}>\n                    <Field name=\"email\">\n                      {({ field }) => (\n                        <TextField\n                          {...field}\n                          fullWidth\n                          label=\"Email Address\"\n                          variant=\"outlined\"\n                          error={touched.email && Boolean(errors.email)}\n                          helperText={touched.email && errors.email}\n                        />\n                      )}\n                    </Field>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Field name=\"password\">\n                      {({ field }) => (\n                        <TextField\n                          {...field}\n                          fullWidth\n                          label=\"Password\"\n                          type={showPassword ? 'text' : 'password'}\n                          variant=\"outlined\"\n                          error={touched.password && Boolean(errors.password)}\n                          helperText={touched.password && errors.password}\n                          InputProps={{\n                            endAdornment: (\n                              <InputAdornment position=\"end\">\n                                <IconButton\n                                  onClick={() => setShowPassword(!showPassword)}\n                                  edge=\"end\"\n                                >\n                                  {showPassword ? <VisibilityOff /> : <Visibility />}\n                                </IconButton>\n                              </InputAdornment>\n                            )\n                          }}\n                        />\n                      )}\n                    </Field>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Button\n                      type=\"submit\"\n                      fullWidth\n                      variant=\"contained\"\n                      color=\"primary\"\n                      size=\"large\"\n                      disabled={isSubmitting}\n                      sx={{ py: 1.5 }}\n                    >\n                      {isSubmitting ? (\n                         <LoadingSpinner message=\"Signing in...\" />\n                      ) : (\n                        'Sign In'\n                      )}\n                    </Button>\n                  </Grid>\n                </Grid>\n              </Form>\n            )}\n          </Formik>\n\n          <Box sx={{ mt: 3, textAlign: 'center' }}>\n            <Link\n              component={RouterLink}\n              to=\"/forgot-password\"\n              variant=\"body2\"\n              color=\"primary\"\n              underline=\"hover\"\n            >\n              Forgot password?\n            </Link>\n          </Box>\n\n          <Box sx={{ mt: 4, textAlign: 'center' }}>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Don't have an account?{' '}\n              <Link\n                component={RouterLink}\n                to=\"/signup\"\n                variant=\"body2\"\n                color=\"primary\"\n                underline=\"hover\"\n              >\n                Sign up\n              </Link>\n            </Typography>\n          </Box>\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}